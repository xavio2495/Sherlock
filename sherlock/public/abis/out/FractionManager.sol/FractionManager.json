{"abi":[{"type":"constructor","inputs":[{"name":"_rwaFactory","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"WHOLE_TOKEN_OFFSET","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"deactivateFractionSpec","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"fractionSpecs","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"totalSupply","type":"uint256","internalType":"uint256"},{"name":"minUnitSize","type":"uint256","internalType":"uint256"},{"name":"lockupPeriod","type":"uint256","internalType":"uint256"},{"name":"lockupEnd","type":"uint256","internalType":"uint256"},{"name":"isActive","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"getFractionSpec","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"tuple","internalType":"struct FractionManager.FractionSpec","components":[{"name":"totalSupply","type":"uint256","internalType":"uint256"},{"name":"minUnitSize","type":"uint256","internalType":"uint256"},{"name":"lockupPeriod","type":"uint256","internalType":"uint256"},{"name":"lockupEnd","type":"uint256","internalType":"uint256"},{"name":"isActive","type":"bool","internalType":"bool"}]}],"stateMutability":"view"},{"type":"function","name":"getRemainingLockup","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"isLockupEnded","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isTransferAllowed","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"},{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"from","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"recombineFractions","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"renounceOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"rwaFactory","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IRWATokenFactory"}],"stateMutability":"view"},{"type":"function","name":"setFractionSpec","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"},{"name":"totalSupply","type":"uint256","internalType":"uint256"},{"name":"minUnitSize","type":"uint256","internalType":"uint256"},{"name":"lockupPeriod","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setRWAFactory","inputs":[{"name":"newFactory","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateLockupPeriod","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"},{"name":"newLockupPeriod","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"validateTransfer","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"},{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"from","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"view"},{"type":"event","name":"FractionSpecSet","inputs":[{"name":"tokenId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"totalSupply","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"minUnitSize","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"lockupPeriod","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"lockupEnd","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"FractionsRecombined","inputs":[{"name":"tokenId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"holder","type":"address","indexed":true,"internalType":"address"},{"name":"fractionalAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"wholeTokenId","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"RWAFactoryUpdated","inputs":[{"name":"oldFactory","type":"address","indexed":true,"internalType":"address"},{"name":"newFactory","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"error","name":"FractionSpecNotSet","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"InsufficientFractionsForRecombination","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"required","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"InvalidMinUnitSize","inputs":[]},{"type":"error","name":"InvalidTotalSupply","inputs":[]},{"type":"error","name":"OwnableInvalidOwner","inputs":[{"name":"owner","type":"address","internalType":"address"}]},{"type":"error","name":"OwnableUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"RWAFactoryNotSet","inputs":[]},{"type":"error","name":"TransferBelowMinimum","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"required","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"TransferDuringLockup","inputs":[{"name":"currentTime","type":"uint256","internalType":"uint256"},{"name":"lockupEnd","type":"uint256","internalType":"uint256"}]}],"bytecode":{"object":"0x60803461010e57601f610cdf38819003918201601f19168301916001600160401b038311848410176101125780849260209460405283398101031261010e57516001600160a01b038082169182900361010e5733156100f6575f549060018060a01b03199133838216175f55604051913391167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e05f80a382156100b457506002541617600255604051610bb890816101278239f35b62461bcd60e51b815260206004820152601760248201527f496e76616c696420666163746f727920616464726573730000000000000000006044820152606490fd5b604051631e4fbdf760e01b81525f6004820152602490fd5b5f80fd5b634e487b7160e01b5f52604160045260245ffdfe60406080815260049081361015610014575f80fd5b5f915f3560e01c80632b27d8591461086c57806342d66d64146107b857806343613da1146107925780635237423e146106d75780635f249e5e146106bd578063648df109146104e6578063715018a61461048d5780638117871c146104365780638da5cb5b1461040e578063bb74ba4b146103e5578063c13e7f0d1461033b578063d8e841dd1461031d578063dec160d9146102fa578063df7cc667146102d4578063eba8ded91461015e5763f2fde38b146100ce575f80fd5b3461015a57602036600319011261015a576100e76108b4565b906100f0610b31565b6001600160a01b039182169283156101445750505f54826bffffffffffffffffffffffff60a01b8216175f55167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e05f80a380f35b51631e4fbdf760e01b8152908101849052602490fd5b8280fd5b509190346102d05760803660031901126102d0578154833591604435916024359160643591336001600160a01b03918216149081156102c2575b50156102915782156102825783158015610279575b61026a5795818596977f55afcaa830cea453d8b23ea1778c5d5c5d4fe1192d012c6619b44df425191bc4966101e461026495610b5c565b9382516101f0816108f4565b8781528b602082018a8152858301908782528660608501938a8552608086019760018952815260016020522093518455516001840155516002830155516003820155019051151560ff8019835416911617905551948594859094939260609260808301968352602083015260408201520152565b0390a280f35b51633d78de5360e21b81528690fd5b508284116101ad565b516334bbd58560e01b81528690fd5b5162461bcd60e51b8152602081880152600c60248201526b155b985d5d1a1bdc9a5e995960a21b6044820152606490fd5b90506002541633145f610198565b5080fd5b5050346102d0576020906102f16102ea366108ca565b5090610ac2565b90519015158152f35b50913461031a57602036600319011261031a57506102f160209235610a67565b80fd5b5050346102d057816003193601126102d05760209051620f42408152f35b50903461015a57602036600319011261015a57808360a09460808351610360816108f4565b828152826020820152828582015282606082015201528335815260016020522081519161038c836108f4565b815493848452600183015460208501908152608060ff6002860154938588019485526003870154966060890197885201541695019415158552825195865251602086015251908401525160608301525115156080820152f35b5050346102d057816003193601126102d05760025490516001600160a01b039091168152602090f35b5050346102d057816003193601126102d057905490516001600160a01b039091168152602090f35b50903461015a57602036600319011261015a578060a0938335815260016020522080549260018201549260ff6002840154926003850154940154169381519586526020860152840152606083015215156080820152f35b833461031a578060031936011261031a576104a6610b31565b5f80546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b509034610677576104f63661089e565b600254909391926001600160a01b03929091831680156106ae57845f526001602052825f2060ff8385519261052a846108f4565b8054845260018101546020850152600281015487850152600381015460608501520154161580156080830152610697575180870361067b5750803b15610677575f80916064855180948193637a94c56560e11b835233888401528a60248401528b60448401525af1801561066d5761065a575b50620f4240840192838511610647579086916002541690813b1561015a5782916064839286519485938492630ab714fb60e11b84523390840152896024840152600160448401525af1801561063d57610625575b50507fd4ef02422f135ef67d9871f0c5f5c2de49313e9eb308353d938e0d3e31f0ed3291815194855260208501523393a380f35b61062e90610924565b61063957845f6105f1565b8480fd5b83513d84823e3d90fd5b634e487b7160e01b875260118252602487fd5b610665919650610924565b5f945f61059d565b83513d5f823e3d90fd5b5f80fd5b905085604493519263c8e8b58960e01b84528301526024820152fd5b8351635d97646f60e11b8152808401879052602490fd5b509051630711db1760e21b8152fd5b34610677576106d56106ce366108ca565b50906109bf565b005b5034610677576020366003190112610677576106f16108b4565b906106fa610b31565b6001600160a01b0391821692831561074f575050600254826bffffffffffffffffffffffff60a01b821617600255167fc8e8cd58fc418c592534bcbc4f65ea268a810af45c7d159476abf49469cd50325f80a3005b906020606492519162461bcd60e51b8352820152601760248201527f496e76616c696420666163746f727920616464726573730000000000000000006044820152fd5b509034610677576020366003190112610677576107b160209235610938565b9051908152f35b5034610677576107c73661089e565b9290916107d2610b31565b825f526001602052815f209060ff8183015416156108555750610850847f55afcaa830cea453d8b23ea1778c5d5c5d4fe1192d012c6619b44df425191bc49495600284015561082081610b5c565b90816003850155600184549401549451948594859094939260609260808301968352602083015260408201520152565b0390a2005b8251635d97646f60e11b8152908101849052602490fd5b50903461067757602036600319011261067757610887610b31565b81355f90815260016020522001805460ff19169055005b6040906003190112610677576004359060243590565b600435906001600160a01b038216820361067757565b60609060031901126106775760043590602435906044356001600160a01b03811681036106775790565b60a0810190811067ffffffffffffffff82111761091057604052565b634e487b7160e01b5f52604160045260245ffd5b67ffffffffffffffff811161091057604052565b5f52600160205260405f206080604051610951816108f4565b82548152600183015460208201526002830154604082015260ff6004600385015494856060850152015416159081159283910152906109b5575b6109b05742810390811161099c5790565b634e487b7160e01b5f52601160045260245ffd5b505f90565b508042101561098b565b5f52600160205260405f20906040516109d7816108f4565b825481526001830154908160208201526002840154604082015260ff600460038601549560608401968752015416159060808215910152610a6257808210610a4457505051804210610a265750565b6044906040519063e4a1b9bf60e01b82524260048301526024820152fd5b60449250604051916327a6ca4560e01b835260048301526024820152fd5b505050565b5f52600160205260405f20604051610a7e816108f4565b81548152600182015460208201526002820154604082015260ff6004600384015493846060850152015416159060808215910152610abc5742101590565b50600190565b5f52600160205260405f209060405190610adb826108f4565b825482526001830154918260208201526002840154604082015260ff6004600386015495866060850152015416159060808215910152610b2957106109b0574210610b2557600190565b5f90565b505050600190565b5f546001600160a01b03163303610b4457565b60405163118cdaa760e01b8152336004820152602490fd5b8015610b7d57620151808082029182040361099c57420180421161099c5790565b50429056fea2646970667358221220b997c39c868ffa7a66a628fa5bbb1adb6cab0d6ea8d55f9aee4484b4c0f9640f64736f6c63430008180033","sourceMap":"755:8811:76:-:0;;;;;;;;;;;;;-1:-1:-1;;755:8811:76;;;;-1:-1:-1;;;;;755:8811:76;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;755:8811:76;;;;;;;;;2641:10;1273:26:0;1269:95;;-1:-1:-1;755:8811:76;;;;;;;;2641:10;;755:8811;;;;-1:-1:-1;755:8811:76;;;2641:10;;755:8811;;3052:40:0;-1:-1:-1;3052:40:0;;2671:25:76;;755:8811;;;2734:42;755:8811;;;2734:42;755:8811;;;;;;;;;;;-1:-1:-1;;;755:8811:76;;;;;;;;;;;;;;;;;;;;1269:95:0;755:8811:76;;-1:-1:-1;;;1322:31:0;;-1:-1:-1;1322:31:0;;;755:8811:76;;;1322:31:0;755:8811:76;-1:-1:-1;755:8811:76;;;;;;-1:-1:-1;755:8811:76;;;;;-1:-1:-1;755:8811:76","linkReferences":{}},"deployedBytecode":{"object":"0x60406080815260049081361015610014575f80fd5b5f915f3560e01c80632b27d8591461086c57806342d66d64146107b857806343613da1146107925780635237423e146106d75780635f249e5e146106bd578063648df109146104e6578063715018a61461048d5780638117871c146104365780638da5cb5b1461040e578063bb74ba4b146103e5578063c13e7f0d1461033b578063d8e841dd1461031d578063dec160d9146102fa578063df7cc667146102d4578063eba8ded91461015e5763f2fde38b146100ce575f80fd5b3461015a57602036600319011261015a576100e76108b4565b906100f0610b31565b6001600160a01b039182169283156101445750505f54826bffffffffffffffffffffffff60a01b8216175f55167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e05f80a380f35b51631e4fbdf760e01b8152908101849052602490fd5b8280fd5b509190346102d05760803660031901126102d0578154833591604435916024359160643591336001600160a01b03918216149081156102c2575b50156102915782156102825783158015610279575b61026a5795818596977f55afcaa830cea453d8b23ea1778c5d5c5d4fe1192d012c6619b44df425191bc4966101e461026495610b5c565b9382516101f0816108f4565b8781528b602082018a8152858301908782528660608501938a8552608086019760018952815260016020522093518455516001840155516002830155516003820155019051151560ff8019835416911617905551948594859094939260609260808301968352602083015260408201520152565b0390a280f35b51633d78de5360e21b81528690fd5b508284116101ad565b516334bbd58560e01b81528690fd5b5162461bcd60e51b8152602081880152600c60248201526b155b985d5d1a1bdc9a5e995960a21b6044820152606490fd5b90506002541633145f610198565b5080fd5b5050346102d0576020906102f16102ea366108ca565b5090610ac2565b90519015158152f35b50913461031a57602036600319011261031a57506102f160209235610a67565b80fd5b5050346102d057816003193601126102d05760209051620f42408152f35b50903461015a57602036600319011261015a57808360a09460808351610360816108f4565b828152826020820152828582015282606082015201528335815260016020522081519161038c836108f4565b815493848452600183015460208501908152608060ff6002860154938588019485526003870154966060890197885201541695019415158552825195865251602086015251908401525160608301525115156080820152f35b5050346102d057816003193601126102d05760025490516001600160a01b039091168152602090f35b5050346102d057816003193601126102d057905490516001600160a01b039091168152602090f35b50903461015a57602036600319011261015a578060a0938335815260016020522080549260018201549260ff6002840154926003850154940154169381519586526020860152840152606083015215156080820152f35b833461031a578060031936011261031a576104a6610b31565b5f80546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b509034610677576104f63661089e565b600254909391926001600160a01b03929091831680156106ae57845f526001602052825f2060ff8385519261052a846108f4565b8054845260018101546020850152600281015487850152600381015460608501520154161580156080830152610697575180870361067b5750803b15610677575f80916064855180948193637a94c56560e11b835233888401528a60248401528b60448401525af1801561066d5761065a575b50620f4240840192838511610647579086916002541690813b1561015a5782916064839286519485938492630ab714fb60e11b84523390840152896024840152600160448401525af1801561063d57610625575b50507fd4ef02422f135ef67d9871f0c5f5c2de49313e9eb308353d938e0d3e31f0ed3291815194855260208501523393a380f35b61062e90610924565b61063957845f6105f1565b8480fd5b83513d84823e3d90fd5b634e487b7160e01b875260118252602487fd5b610665919650610924565b5f945f61059d565b83513d5f823e3d90fd5b5f80fd5b905085604493519263c8e8b58960e01b84528301526024820152fd5b8351635d97646f60e11b8152808401879052602490fd5b509051630711db1760e21b8152fd5b34610677576106d56106ce366108ca565b50906109bf565b005b5034610677576020366003190112610677576106f16108b4565b906106fa610b31565b6001600160a01b0391821692831561074f575050600254826bffffffffffffffffffffffff60a01b821617600255167fc8e8cd58fc418c592534bcbc4f65ea268a810af45c7d159476abf49469cd50325f80a3005b906020606492519162461bcd60e51b8352820152601760248201527f496e76616c696420666163746f727920616464726573730000000000000000006044820152fd5b509034610677576020366003190112610677576107b160209235610938565b9051908152f35b5034610677576107c73661089e565b9290916107d2610b31565b825f526001602052815f209060ff8183015416156108555750610850847f55afcaa830cea453d8b23ea1778c5d5c5d4fe1192d012c6619b44df425191bc49495600284015561082081610b5c565b90816003850155600184549401549451948594859094939260609260808301968352602083015260408201520152565b0390a2005b8251635d97646f60e11b8152908101849052602490fd5b50903461067757602036600319011261067757610887610b31565b81355f90815260016020522001805460ff19169055005b6040906003190112610677576004359060243590565b600435906001600160a01b038216820361067757565b60609060031901126106775760043590602435906044356001600160a01b03811681036106775790565b60a0810190811067ffffffffffffffff82111761091057604052565b634e487b7160e01b5f52604160045260245ffd5b67ffffffffffffffff811161091057604052565b5f52600160205260405f206080604051610951816108f4565b82548152600183015460208201526002830154604082015260ff6004600385015494856060850152015416159081159283910152906109b5575b6109b05742810390811161099c5790565b634e487b7160e01b5f52601160045260245ffd5b505f90565b508042101561098b565b5f52600160205260405f20906040516109d7816108f4565b825481526001830154908160208201526002840154604082015260ff600460038601549560608401968752015416159060808215910152610a6257808210610a4457505051804210610a265750565b6044906040519063e4a1b9bf60e01b82524260048301526024820152fd5b60449250604051916327a6ca4560e01b835260048301526024820152fd5b505050565b5f52600160205260405f20604051610a7e816108f4565b81548152600182015460208201526002820154604082015260ff6004600384015493846060850152015416159060808215910152610abc5742101590565b50600190565b5f52600160205260405f209060405190610adb826108f4565b825482526001830154918260208201526002840154604082015260ff6004600386015495866060850152015416159060808215910152610b2957106109b0574210610b2557600190565b5f90565b505050600190565b5f546001600160a01b03163303610b4457565b60405163118cdaa760e01b8152336004820152602490fd5b8015610b7d57620151808082029182040361099c57420180421161099c5790565b50429056fea2646970667358221220b997c39c868ffa7a66a628fa5bbb1adb6cab0d6ea8d55f9aee4484b4c0f9640f64736f6c63430008180033","sourceMap":"755:8811:76:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;755:8811:76;;;;;;:::i;:::-;1500:62:0;;;:::i;:::-;-1:-1:-1;;;;;755:8811:76;;;;2627:22:0;;2623:91;;755:8811:76;;;;;;;;;;;;;;3052:40:0;755:8811:76;3052:40:0;;755:8811:76;;2623:91:0;755:8811:76;-1:-1:-1;;;2672:31:0;;;;;755:8811:76;;;;;2672:31:0;755:8811:76;;;;;;;;;;;;;-1:-1:-1;;755:8811:76;;;;;;;;;;;;;;;;;;3278:10;-1:-1:-1;;;;;755:8811:76;;;3278:21;;:58;;;;755:8811;;;;;3367:16;;3363:49;;3426:16;;:45;;;;755:8811;3422:78;;3540:33;;;;;3836:84;3540:33;;3836:84;3540:33;;:::i;:::-;755:8811;;;;;;:::i;:::-;;;;3609:211;755:8811;3609:211;;755:8811;;;3609:211;;;755:8811;;;;3609:211;755:8811;3609:211;;755:8811;;;;;3609:211;;755:8811;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3836:84;;;;755:8811;;;;;;;;;;;;;;;;;;;;;;;3836:84;;;;755:8811;;3422:78;755:8811;-1:-1:-1;;;3480:20:76;;755:8811;;3480:20;3426:45;3446:25;;;;3426:45;;3363:49;755:8811;-1:-1:-1;;;3392:20:76;;755:8811;;3392:20;755:8811;;-1:-1:-1;;;755:8811:76;;;;;;;;;;;;-1:-1:-1;;;755:8811:76;;;;;;;3278:58;755:8811;;3325:10;755:8811;;3278:10;3303:33;3278:58;;;755:8811;;;;;;;;;;;;;;;;:::i;:::-;;;;:::i;:::-;;;;;;;;;;;;;;;;;-1:-1:-1;;755:8811:76;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;1526:9;755:8811;;;;;;;;;;;-1:-1:-1;;755:8811:76;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1358:34;755:8811;;;-1:-1:-1;;;;;755:8811:76;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;755:8811:76;;;;;;;;;;;;;;;;-1:-1:-1;;755:8811:76;;;;;;;;;;;;;;;;;1237:53;755:8811;1237:53;;755:8811;1237:53;755:8811;1237:53;;;755:8811;1237:53;;;;755:8811;1237:53;;755:8811;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1500:62:0;;:::i;:::-;755:8811:76;;;-1:-1:-1;;;;;;755:8811:76;;;;-1:-1:-1;;;;;755:8811:76;3052:40:0;755:8811:76;;3052:40:0;755:8811:76;;;;;;;;;;;:::i;:::-;4287:10;755:8811;;;;;-1:-1:-1;;;;;755:8811:76;;;;;4279:33;;4275:64;;755:8811;;;4385:13;755:8811;;;;;;;;;;;;;:::i;:::-;;;;;4385:13;755:8811;;;;;;;4287:10;755:8811;;;;;;;;;;;;;;;;;;;;;;;;;4417:54;;755:8811;4558:26;;;4554:127;;4737:44;;;;;;755:8811;;;;;;;;;;;;;4737:44;;4753:10;4737:44;;;755:8811;;;;;;;;;;;4737:44;;;;;;;;755:8811;;1526:9;755:8811;;;;;;;;;;;4287:10;755:8811;;4909:44;;;;;;755:8811;;;;;;;;;;;;;;;4909:44;;4753:10;4909:44;;;755:8811;;;;;;4385:13;755:8811;;;;4909:44;;;;;;;;755:8811;;;4969:62;755:8811;;;;;;;;;;4753:10;4969:62;;755:8811;;4909:44;;;;:::i;:::-;755:8811;;4909:44;;;;755:8811;;;;4909:44;755:8811;;;;;;;;;;-1:-1:-1;;;755:8811:76;;;;;;;;4737:44;;;;;;:::i;:::-;755:8811;4737:44;;;;;755:8811;;;;;;;;;4737:44;755:8811;;;4554:127;755:8811;;;;;;4607:63;;;;;;;;755:8811;;;;;4607:63;4417:54;755:8811;;-1:-1:-1;;;4444:27:76;;;;;755:8811;;;;;4444:27;4275:64;-1:-1:-1;755:8811:76;;-1:-1:-1;;;4321:18:76;;;755:8811;;;;;;;;:::i;:::-;;;;:::i;:::-;;;;;;;;;-1:-1:-1;;755:8811:76;;;;;;:::i;:::-;1500:62:0;;;:::i;:::-;-1:-1:-1;;;;;755:8811:76;;;;7981:24;;755:8811;;;;8072:10;755:8811;;;;;;;;8072:10;755:8811;;8149:41;755:8811;8149:41;;755:8811;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;755:8811:76;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;:::i;:::-;1500:62:0;;;;;:::i;:::-;755:8811:76;;;8485:13;755:8811;;;;;8522:13;755:8811;8522:13;;;755:8811;;8521:14;8517:54;;8582:17;8696:163;8582:17;8696:163;8582:17;;;;;755:8811;8644:36;;;:::i;:::-;8627:14;;;;;755:8811;8485:13;755:8811;;8776:16;;755:8811;;;8696:163;;;;755:8811;;;;;;;;;;;;;;;;;;;;;;;8696:163;;;;755:8811;8517:54;755:8811;;-1:-1:-1;;;8544:27:76;;;;;755:8811;;;;;8544:27;755:8811;;;;;;;;-1:-1:-1;;755:8811:76;;;;1500:62:0;;:::i;:::-;755:8811:76;;;;;;;;;;9053:31;755:8811;;-1:-1:-1;;755:8811:76;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;-1:-1:-1;;;;;755:8811:76;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;755:8811:76;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;:::o;6686:267::-;-1:-1:-1;755:8811:76;6800:13;755:8811;;;-1:-1:-1;755:8811:76;;;;;;;:::i;:::-;;;;;6800:13;755:8811;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6836:51;;;6686:267;6832:65;;6931:15;755:8811;;;;;;;6686:267;:::o;755:8811::-;;;;-1:-1:-1;755:8811:76;;;;;-1:-1:-1;755:8811:76;6832:65;6889:8;-1:-1:-1;6889:8:76;:::o;6836:51::-;6854:15;;;:33;;6836:51;;7150:588;-1:-1:-1;755:8811:76;7304:13;755:8811;;;-1:-1:-1;755:8811:76;;;;;;;:::i;:::-;;;;;7304:13;755:8811;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7387:27;;7463:25;;;7459:109;;755:8811;;;7613:15;;:32;7609:123;;7150:588;:::o;7609:123::-;755:8811;;;;7668:53;;;;;;7613:15;755:8811;7668:53;;755:8811;;;;;7668:53;7459:109;755:8811;;;;;7511:46;;;;;;755:8811;7511:46;;755:8811;;;;;7511:46;7387:27;7407:7;;;:::o;6297:226::-;-1:-1:-1;755:8811:76;6403:13;755:8811;;;-1:-1:-1;755:8811:76;;;;;;:::i;:::-;;;;;6403:13;755:8811;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6435:31;;6483:15;:33;;6297:226;:::o;6435:31::-;6455:11;6403:13;6455:11;:::o;5283:586::-;-1:-1:-1;755:8811:76;5453:13;755:8811;;;-1:-1:-1;755:8811:76;;;;;;;;:::i;:::-;;;;;5453:13;755:8811;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5555:31;;5636:25;5632:68;;5770:15;:32;5766:75;;5453:13;5283:586;:::o;5766:75::-;-1:-1:-1;5818:12:76;:::o;5555:31::-;5575:11;;;5453:13;5575:11;:::o;1796:162:0:-;1710:6;755:8811:76;-1:-1:-1;;;;;755:8811:76;735:10:9;1855:23:0;1851:101;;1796:162::o;1851:101::-;755:8811:76;;-1:-1:-1;;;1901:40:0;;735:10:9;1901:40:0;;;755:8811:76;;;1901:40:0;9348:216:76;9445:17;;9441:45;;9550:6;755:8811;;;;;;;;;9516:15;755:8811;9516:15;;755:8811;;;9348:216;:::o;9441:45::-;9471:15;;9464:22;:::o","linkReferences":{}},"methodIdentifiers":{"WHOLE_TOKEN_OFFSET()":"d8e841dd","deactivateFractionSpec(uint256)":"2b27d859","fractionSpecs(uint256)":"8117871c","getFractionSpec(uint256)":"c13e7f0d","getRemainingLockup(uint256)":"43613da1","isLockupEnded(uint256)":"dec160d9","isTransferAllowed(uint256,uint256,address)":"df7cc667","owner()":"8da5cb5b","recombineFractions(uint256,uint256)":"648df109","renounceOwnership()":"715018a6","rwaFactory()":"bb74ba4b","setFractionSpec(uint256,uint256,uint256,uint256)":"eba8ded9","setRWAFactory(address)":"5237423e","transferOwnership(address)":"f2fde38b","updateLockupPeriod(uint256,uint256)":"42d66d64","validateTransfer(uint256,uint256,address)":"5f249e5e"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_rwaFactory\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"FractionSpecNotSet\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"required\",\"type\":\"uint256\"}],\"name\":\"InsufficientFractionsForRecombination\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidMinUnitSize\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidTotalSupply\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"OwnableInvalidOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"OwnableUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"RWAFactoryNotSet\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"required\",\"type\":\"uint256\"}],\"name\":\"TransferBelowMinimum\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"currentTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lockupEnd\",\"type\":\"uint256\"}],\"name\":\"TransferDuringLockup\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalSupply\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"minUnitSize\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"lockupPeriod\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"lockupEnd\",\"type\":\"uint256\"}],\"name\":\"FractionSpecSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"holder\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fractionalAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"wholeTokenId\",\"type\":\"uint256\"}],\"name\":\"FractionsRecombined\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oldFactory\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newFactory\",\"type\":\"address\"}],\"name\":\"RWAFactoryUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"WHOLE_TOKEN_OFFSET\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"deactivateFractionSpec\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"fractionSpecs\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"totalSupply\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minUnitSize\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lockupPeriod\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lockupEnd\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isActive\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"getFractionSpec\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"totalSupply\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minUnitSize\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lockupPeriod\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lockupEnd\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isActive\",\"type\":\"bool\"}],\"internalType\":\"struct FractionManager.FractionSpec\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"getRemainingLockup\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"isLockupEnded\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"}],\"name\":\"isTransferAllowed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"recombineFractions\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"rwaFactory\",\"outputs\":[{\"internalType\":\"contract IRWATokenFactory\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalSupply\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minUnitSize\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lockupPeriod\",\"type\":\"uint256\"}],\"name\":\"setFractionSpec\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newFactory\",\"type\":\"address\"}],\"name\":\"setRWAFactory\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"newLockupPeriod\",\"type\":\"uint256\"}],\"name\":\"updateLockupPeriod\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"}],\"name\":\"validateTransfer\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Manages fractional ownership rules for RWA tokens  Key Features: - Define min fraction size and lockup periods per token - Validate transfers against fraction specs - Burn-to-whole recombination (burn fractions \\u2192 mint whole NFT) - Global lockup per tokenId (all holders subject to same lockup)\",\"errors\":{\"OwnableInvalidOwner(address)\":[{\"details\":\"The owner is not a valid owner account. (eg. `address(0)`)\"}],\"OwnableUnauthorizedAccount(address)\":[{\"details\":\"The caller account is not authorized to perform an operation.\"}]},\"kind\":\"dev\",\"methods\":{\"constructor\":{\"params\":{\"_rwaFactory\":\"Address of RWATokenFactory contract\"}},\"deactivateFractionSpec(uint256)\":{\"params\":{\"tokenId\":\"The token ID\"}},\"getFractionSpec(uint256)\":{\"params\":{\"tokenId\":\"The token ID\"},\"returns\":{\"_0\":\"FractionSpec struct\"}},\"getRemainingLockup(uint256)\":{\"params\":{\"tokenId\":\"The token ID\"},\"returns\":{\"_0\":\"uint256 Seconds remaining (0 if ended)\"}},\"isLockupEnded(uint256)\":{\"params\":{\"tokenId\":\"The token ID\"},\"returns\":{\"_0\":\"bool True if lockup has ended\"}},\"isTransferAllowed(uint256,uint256,address)\":{\"params\":{\"amount\":\"Transfer amount\",\"from\":\"Address initiating transfer\",\"tokenId\":\"The token ID\"},\"returns\":{\"_0\":\"bool True if transfer allowed\"}},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"recombineFractions(uint256,uint256)\":{\"details\":\"Burns fractional tokens and mints a whole token (tokenId + WHOLE_TOKEN_OFFSET)\",\"params\":{\"amount\":\"Number of fractions to recombine\",\"tokenId\":\"The fractional token ID\"}},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"setFractionSpec(uint256,uint256,uint256,uint256)\":{\"params\":{\"lockupPeriod\":\"Lockup duration in days\",\"minUnitSize\":\"Minimum transferable unit size\",\"tokenId\":\"The token ID\",\"totalSupply\":\"Total supply of fractions\"}},\"setRWAFactory(address)\":{\"params\":{\"newFactory\":\"New factory address\"}},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"},\"updateLockupPeriod(uint256,uint256)\":{\"params\":{\"newLockupPeriod\":\"New lockup period in days\",\"tokenId\":\"The token ID\"}},\"validateTransfer(uint256,uint256,address)\":{\"params\":{\"amount\":\"Transfer amount\",\"from\":\"Address initiating transfer\",\"tokenId\":\"The token ID\"}}},\"title\":\"FractionManager\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"constructor\":{\"notice\":\"Initialize FractionManager\"},\"deactivateFractionSpec(uint256)\":{\"notice\":\"Deactivate fraction spec for a token\"},\"getFractionSpec(uint256)\":{\"notice\":\"Get fraction specification for a token\"},\"getRemainingLockup(uint256)\":{\"notice\":\"Get remaining lockup time in seconds\"},\"isLockupEnded(uint256)\":{\"notice\":\"Check if lockup period has ended\"},\"isTransferAllowed(uint256,uint256,address)\":{\"notice\":\"Check if transfer is allowed based on specs\"},\"recombineFractions(uint256,uint256)\":{\"notice\":\"Recombine fractions back to whole asset\"},\"setFractionSpec(uint256,uint256,uint256,uint256)\":{\"notice\":\"Define fraction parameters for a token\"},\"setRWAFactory(address)\":{\"notice\":\"Update RWATokenFactory address\"},\"updateLockupPeriod(uint256,uint256)\":{\"notice\":\"Update lockup period for a token\"},\"validateTransfer(uint256,uint256,address)\":{\"notice\":\"Validate transfer with revert on failure\"}},\"notice\":\"Handle fraction specifications, transfers, and recombination\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/FractionManager.sol\":\"FractionManager\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=../lib/openzeppelin-contracts/contracts/\",\":@pythnetwork/pyth-sdk-solidity/=lib/pyth-sdk-solidity/\",\":erc4626-tests/=/home/sigma_coder/Hacks/Mantle/Sherlock/lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=../lib/openzeppelin-contracts/lib/forge-std/src/\",\":halmos-cheatcodes/=/home/sigma_coder/Hacks/Mantle/Sherlock/lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=/home/sigma_coder/Hacks/Mantle/Sherlock/lib/openzeppelin-contracts/contracts/\",\":pyth-sdk-solidity/=lib/pyth-sdk-solidity/\"],\"viaIR\":true},\"sources\":{\"../lib/openzeppelin-contracts/contracts/access/Ownable.sol\":{\"keccak256\":\"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6\",\"dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a\"]},\"../lib/openzeppelin-contracts/contracts/utils/Context.sol\":{\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12\",\"dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF\"]},\"src/FractionManager.sol\":{\"keccak256\":\"0xc550574588b2fd1d075a4df0577326efbe0cc6a4c56fefec15da14f0b48e2191\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://de0e4510a6034061e7246e786091496ea7be7c8f96700cac7541fcc589a697cc\",\"dweb:/ipfs/QmRkBH4EavbqjdYcvQ6DqDqQJiaKNyCVGeDTHgChc2xCLs\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_rwaFactory","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"type":"error","name":"FractionSpecNotSet"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"required","type":"uint256"}],"type":"error","name":"InsufficientFractionsForRecombination"},{"inputs":[],"type":"error","name":"InvalidMinUnitSize"},{"inputs":[],"type":"error","name":"InvalidTotalSupply"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"type":"error","name":"OwnableInvalidOwner"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"type":"error","name":"OwnableUnauthorizedAccount"},{"inputs":[],"type":"error","name":"RWAFactoryNotSet"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"required","type":"uint256"}],"type":"error","name":"TransferBelowMinimum"},{"inputs":[{"internalType":"uint256","name":"currentTime","type":"uint256"},{"internalType":"uint256","name":"lockupEnd","type":"uint256"}],"type":"error","name":"TransferDuringLockup"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256","indexed":true},{"internalType":"uint256","name":"totalSupply","type":"uint256","indexed":false},{"internalType":"uint256","name":"minUnitSize","type":"uint256","indexed":false},{"internalType":"uint256","name":"lockupPeriod","type":"uint256","indexed":false},{"internalType":"uint256","name":"lockupEnd","type":"uint256","indexed":false}],"type":"event","name":"FractionSpecSet","anonymous":false},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256","indexed":true},{"internalType":"address","name":"holder","type":"address","indexed":true},{"internalType":"uint256","name":"fractionalAmount","type":"uint256","indexed":false},{"internalType":"uint256","name":"wholeTokenId","type":"uint256","indexed":false}],"type":"event","name":"FractionsRecombined","anonymous":false},{"inputs":[{"internalType":"address","name":"previousOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false},{"inputs":[{"internalType":"address","name":"oldFactory","type":"address","indexed":true},{"internalType":"address","name":"newFactory","type":"address","indexed":true}],"type":"event","name":"RWAFactoryUpdated","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"WHOLE_TOKEN_OFFSET","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"deactivateFractionSpec"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"fractionSpecs","outputs":[{"internalType":"uint256","name":"totalSupply","type":"uint256"},{"internalType":"uint256","name":"minUnitSize","type":"uint256"},{"internalType":"uint256","name":"lockupPeriod","type":"uint256"},{"internalType":"uint256","name":"lockupEnd","type":"uint256"},{"internalType":"bool","name":"isActive","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getFractionSpec","outputs":[{"internalType":"struct FractionManager.FractionSpec","name":"","type":"tuple","components":[{"internalType":"uint256","name":"totalSupply","type":"uint256"},{"internalType":"uint256","name":"minUnitSize","type":"uint256"},{"internalType":"uint256","name":"lockupPeriod","type":"uint256"},{"internalType":"uint256","name":"lockupEnd","type":"uint256"},{"internalType":"bool","name":"isActive","type":"bool"}]}]},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getRemainingLockup","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"stateMutability":"view","type":"function","name":"isLockupEnded","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"from","type":"address"}],"stateMutability":"view","type":"function","name":"isTransferAllowed","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"recombineFractions"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"renounceOwnership"},{"inputs":[],"stateMutability":"view","type":"function","name":"rwaFactory","outputs":[{"internalType":"contract IRWATokenFactory","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"totalSupply","type":"uint256"},{"internalType":"uint256","name":"minUnitSize","type":"uint256"},{"internalType":"uint256","name":"lockupPeriod","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setFractionSpec"},{"inputs":[{"internalType":"address","name":"newFactory","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setRWAFactory"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"newLockupPeriod","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"updateLockupPeriod"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"from","type":"address"}],"stateMutability":"view","type":"function","name":"validateTransfer"}],"devdoc":{"kind":"dev","methods":{"constructor":{"params":{"_rwaFactory":"Address of RWATokenFactory contract"}},"deactivateFractionSpec(uint256)":{"params":{"tokenId":"The token ID"}},"getFractionSpec(uint256)":{"params":{"tokenId":"The token ID"},"returns":{"_0":"FractionSpec struct"}},"getRemainingLockup(uint256)":{"params":{"tokenId":"The token ID"},"returns":{"_0":"uint256 Seconds remaining (0 if ended)"}},"isLockupEnded(uint256)":{"params":{"tokenId":"The token ID"},"returns":{"_0":"bool True if lockup has ended"}},"isTransferAllowed(uint256,uint256,address)":{"params":{"amount":"Transfer amount","from":"Address initiating transfer","tokenId":"The token ID"},"returns":{"_0":"bool True if transfer allowed"}},"owner()":{"details":"Returns the address of the current owner."},"recombineFractions(uint256,uint256)":{"details":"Burns fractional tokens and mints a whole token (tokenId + WHOLE_TOKEN_OFFSET)","params":{"amount":"Number of fractions to recombine","tokenId":"The fractional token ID"}},"renounceOwnership()":{"details":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."},"setFractionSpec(uint256,uint256,uint256,uint256)":{"params":{"lockupPeriod":"Lockup duration in days","minUnitSize":"Minimum transferable unit size","tokenId":"The token ID","totalSupply":"Total supply of fractions"}},"setRWAFactory(address)":{"params":{"newFactory":"New factory address"}},"transferOwnership(address)":{"details":"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."},"updateLockupPeriod(uint256,uint256)":{"params":{"newLockupPeriod":"New lockup period in days","tokenId":"The token ID"}},"validateTransfer(uint256,uint256,address)":{"params":{"amount":"Transfer amount","from":"Address initiating transfer","tokenId":"The token ID"}}},"version":1},"userdoc":{"kind":"user","methods":{"constructor":{"notice":"Initialize FractionManager"},"deactivateFractionSpec(uint256)":{"notice":"Deactivate fraction spec for a token"},"getFractionSpec(uint256)":{"notice":"Get fraction specification for a token"},"getRemainingLockup(uint256)":{"notice":"Get remaining lockup time in seconds"},"isLockupEnded(uint256)":{"notice":"Check if lockup period has ended"},"isTransferAllowed(uint256,uint256,address)":{"notice":"Check if transfer is allowed based on specs"},"recombineFractions(uint256,uint256)":{"notice":"Recombine fractions back to whole asset"},"setFractionSpec(uint256,uint256,uint256,uint256)":{"notice":"Define fraction parameters for a token"},"setRWAFactory(address)":{"notice":"Update RWATokenFactory address"},"updateLockupPeriod(uint256,uint256)":{"notice":"Update lockup period for a token"},"validateTransfer(uint256,uint256,address)":{"notice":"Validate transfer with revert on failure"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=../lib/openzeppelin-contracts/contracts/","@pythnetwork/pyth-sdk-solidity/=lib/pyth-sdk-solidity/","erc4626-tests/=/home/sigma_coder/Hacks/Mantle/Sherlock/lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=../lib/openzeppelin-contracts/lib/forge-std/src/","halmos-cheatcodes/=/home/sigma_coder/Hacks/Mantle/Sherlock/lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=/home/sigma_coder/Hacks/Mantle/Sherlock/lib/openzeppelin-contracts/contracts/","pyth-sdk-solidity/=lib/pyth-sdk-solidity/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/FractionManager.sol":"FractionManager"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"../lib/openzeppelin-contracts/contracts/access/Ownable.sol":{"keccak256":"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb","urls":["bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6","dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a"],"license":"MIT"},"../lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2","urls":["bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12","dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF"],"license":"MIT"},"src/FractionManager.sol":{"keccak256":"0xc550574588b2fd1d075a4df0577326efbe0cc6a4c56fefec15da14f0b48e2191","urls":["bzz-raw://de0e4510a6034061e7246e786091496ea7be7c8f96700cac7541fcc589a697cc","dweb:/ipfs/QmRkBH4EavbqjdYcvQ6DqDqQJiaKNyCVGeDTHgChc2xCLs"],"license":"MIT"}},"version":1},"id":76}